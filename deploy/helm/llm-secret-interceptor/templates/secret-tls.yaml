{{- if not .Values.tls.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "llm-secret-interceptor.fullname" . }}-tls
  labels:
    {{- include "llm-secret-interceptor.labels" . | nindent 4 }}
type: Opaque
data:
  {{- if .Values.tls.generateCA }}
  # Note: CA generation should be done externally or via a Job
  # This is a placeholder - you should provide ca.crt and ca.key via values or existingSecret
  ca.crt: ""
  ca.key: ""
  {{- else }}
  ca.crt: {{ .Values.tls.caCert | b64enc | quote }}
  ca.key: {{ .Values.tls.caKey | b64enc | quote }}
  {{- end }}
{{- end }}
